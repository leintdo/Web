<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>WHERE ARE WE FROM</title>
    <style>
      body {
        font-family: "Segoe UI", sans-serif;
        text-align: center;
        background: linear-gradient(135deg, #031a22, #2980b9);
        color: white;
        padding: 40px;
      }
      #word {
        font-size: 2em;
        letter-spacing: 10px;
        margin-top: 10px;
      }
      img {
        width: 250px;
        height: 150px;
        object-fit: cover;
        border-radius: 12px;
        margin-top: 15px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      }
      input {
        padding: 10px;
        font-size: 1.2em;
        text-transform: uppercase;
        text-align: center;
        width: 200px;
        border-radius: 8px;
        border: none;
      }
      button {
        margin-left: 10px;
        padding: 10px 15px;
        font-size: 1em;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        background: #f39c12;
        color: white;
        font-weight: bold;
      }
      #message {
        font-size: 1.2em;
        margin-top: 20px;
      }
    </style>
  </head>
  <body>
    <h1>WHERE ARE WE FROM</h1>
    <p>B·∫°n c√≥ <b id="tries">3</b> l·∫ßn ƒëo√°n sai t·ªëi ƒëa!</p>
    <div id="word">_ _ _ _ _</div>
    <img id="hint" src="" alt="G·ª£i √Ω qu·ªëc gia" />
    <br />
    <input id="guess" placeholder="Nh·∫≠p t√™n qu·ªëc gia" />
    <button onclick="makeGuess()">ƒêo√°n</button>
    <div id="message"></div>
    <p>ƒêi·ªÉm: <b id="score">0</b></p>

    <script>
      const words = [
        "VIETNAM",
        "MALAYSIA",
        "THAILAND",
        "CHINA",
        "GERMANY",
        "ENGLAND",
        "CANADA",
        "AMERICA",
      ];

      const imageMap = {
        VIETNAM: "flag/VIETNAM.jpg",
        MALAYSIA: "flag/MALAYSIA.jpg",
        THAILAND: "flag/THAILAND.jpg",
        CHINA: "flag/CHINA.jpg",
        GERMANY: "flag/GERMANY.jpg",
        ENGLAND: "flag/ENDLAND.jpg",
        CANADA: "flag/CANADA.jpg",
        AMERICA: "flag/AMERICAN.jpg",
      };

      let maxTries = 3;
      let wrong = 0;
      let score = 0;
      let word = "";
      let guessed = [];

      function startGame() {
        wrong = 0;
        document.getElementById("tries").textContent = maxTries - wrong;

        word = words[Math.floor(Math.random() * words.length)];
        guessed = Array(word.length).fill("_");

        document.getElementById("hint").src = imageMap[word];

        updateDisplay();
        document.getElementById().textContent = `T·ª´ n√†y c√≥ ${word.length} ch·ªØ c√°i.`;
      }

      function updateDisplay() {
        document.getElementById("word").textContent = guessed.join(" ");
        document.getElementById("score").textContent = score;
        document.getElementById("tries").textContent = maxTries - wrong;
      }

      function makeGuess() {
        const input = document.getElementById("guess");
        let guess = input.value.toUpperCase().trim();
        input.value = "";

        if (guess === "") {
          document.getElementById("message").textContent =
            "‚ùó Vui l√≤ng nh·∫≠p ch·ªØ!";
          return;
        }

        if (guess.length > 1) {
          if (guess === word) {
            guessed = word.split("");
            score++;
            document.getElementById(
              "message"
            ).textContent = `üéâ Ch√≠nh x√°c! T·ª´ l√†: ${word}`;
            updateDisplay();
            setTimeout(startGame, 2500);
          } else {
            wrong++;
            document.getElementById("message").textContent = `‚ùå Sai r·ªìi! C√≤n ${
              maxTries - wrong
            } l·∫ßn ƒëo√°n.`;
          }
        } else {
          let found = false;
          for (let i = 0; i < word.length; i++) {
            if (word[i] === guess && guessed[i] === "_") {
              guessed[i] = guess;
              found = true;
            }
          }

          if (!found) {
            wrong++;
            document.getElementById("message").textContent = `Sai r·ªìi! C√≤n ${
              maxTries - wrong
            } l·∫ßn ƒëo√°n.`;
          } else {
            document.getElementById("message").textContent = "‚úÖ ƒê√∫ng r·ªìi!";
          }

          if (!guessed.includes("_")) {
            score++;
            document.getElementById(
              "message"
            ).textContent = `üéâ B·∫°n ƒëo√°n ƒë√∫ng: ${word}`;
            setTimeout(startGame, 2500);
          }
        }

        if (wrong >= maxTries) {
          document.getElementById(
            "message"
          ).textContent = `üò¢ B·∫°n thua! T·ª´ ƒë√∫ng l√†: ${word}`;
          score = 0;
          setTimeout(startGame, 3000);
        }

        updateDisplay();
      }

      startGame();
    </script>
  </body>
</html>
